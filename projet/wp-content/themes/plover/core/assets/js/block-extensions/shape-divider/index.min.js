(()=>{"use strict";var e,t={737:()=>{const e=window.React,t=window.wp.hooks,o=window.wp.compose;function r(e){var t,o,l="";if("string"==typeof e||"number"==typeof e)l+=e;else if("object"==typeof e)if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(o=r(e[t]))&&(l&&(l+=" "),l+=o)}else for(o in e)e[o]&&(l&&(l+=" "),l+=o);return l}const l=function(){for(var e,t,o=0,l="",n=arguments.length;o<n;o++)(e=arguments[o])&&(t=r(e))&&(l&&(l+=" "),l+=t);return l},n=window.plover.utils;function a(e=null){const t=(0,n.getExtensionSetting)("shapeDivider","shapes",{});if("none"!==e)return null===e?t:t[e]}const i=window.wp.element,s=window.plover.data;function p(e,t,o="previous"){const r="previous"===o?e?.previousElementSibling:e?.nextElementSibling;return r?r?.classList?.contains(t)?r:"plover-indicator"===r?.dataset?.role?p(r,t,o):null:null}function c({shapeData:t,attributes:o}){const{invertShape:r,flipShape:l,shapePosition:a}=o,c=(0,i.useRef)(),[h]=(0,s.useDeviceType)(),v=(0,i.useMemo)((()=>{var e,t,r,l;const a=(0,n.getScalarValueByDevice)(null!==(e=o?.shapeWidth)&&void 0!==e?e:"100%",h),i=(0,n.getScalarValueByDevice)(null!==(t=o?.shapeHeight)&&void 0!==t?t:"50px",h),s=Number(null!==(r=o?.shapeZIndex)&&void 0!==r?r:9),p=null!==(l=o?.shapeColor)&&void 0!==l?l:"#ffffff",c={"--plover-shape-width":a,"--plover-shape-height":i};return isNaN(s)||(c["--plover-shape-z-index"]=s),p&&(c["--plover-shape-color"]=p),Object.keys(c).map((e=>`${e}:${c[e]};`)).join("")}),[h,o]);return(0,i.useEffect)((()=>{if(!c?.current)return;const e=p(c?.current,"plover-shape-divider__block");if(!e)return;const o=r&&-1!==t.options.indexOf("shape_invert"),n=l&&-1!==t.options.indexOf("shape_flip"),i=t.files[o?"negative":"svg"];if(!i)return;const s=document.createElement("div");return s.className="plover-shape-divider",s.dataset.position=a,s.dataset.negative=o?"true":"false",s.dataset.flip=n?"true":"false",s.style=v,s.innerHTML=i,e.appendChild(s),()=>{s.remove()}}),[c,v,t,r,l,a]),(0,e.createElement)("span",{ref:c,"data-role":"plover-indicator",className:"plover-shape-divider__editor-indicator"})}function h({attributes:t}){const{shapeDivider:o}=t,r=a(o);return!r||!r?.files||Object.keys(r?.files)<=0?null:(0,e.createElement)(c,{shapeData:r,attributes:t})}const v=window.wp.blockEditor,d=window.wp.components,u=window.wp.i18n,m=window.plover.components;function _({value:t,onChange:o}){const r=a();return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"plover-shapes-selector"},Object.keys(r).map((n=>{const a=r[n];return"none"===n?(0,e.createElement)("div",{key:n,onClick:()=>o("none"),className:l("plover-shape-preview plover-shape-preview-none",{active:n===t})},(0,u.__)("None","plover")):Object.keys(a.files).length<=0||!a.files.svg?null:(0,e.createElement)("div",{key:n,onClick:()=>{o(n)},className:l("plover-shape-preview",{active:n===t}),dangerouslySetInnerHTML:{__html:a.files.svg}})}))))}function f({attributes:t,setAttributes:o}){const{shapeDivider:r,shapePosition:l,shapeColor:n,flipShape:i,invertShape:s,shapeWidth:p,shapeHeight:c,shapeZIndex:h}=t,v=a(r);return v?(0,e.createElement)(d.__experimentalToolsPanel,{resetAll:()=>{o({shapePosition:"bottom",shapeColor:void 0,flipShape:void 0,invertShape:void 0,shapeWidth:void 0,shapeHeight:void 0,shapeZIndex:void 0})},label:(0,u.__)("Shape options","plover"),className:"plover-shape-options__panel"},-1!==v.options.indexOf("shape_flip")&&(0,e.createElement)(d.__experimentalToolsPanelItem,{label:(0,u.__)("Flip shape","plover"),hasValue:()=>void 0!==i,onDeselect:()=>{o({flipShape:void 0})}},(0,e.createElement)(d.ToggleControl,{label:(0,u.__)("Enable flip","plover"),checked:!!i,onChange:e=>{o({flipShape:e})}})),-1!==v.options.indexOf("shape_invert")&&(0,e.createElement)(d.__experimentalToolsPanelItem,{label:(0,u.__)("Invert shape","plover"),hasValue:()=>void 0!==s,onDeselect:()=>{o({invertShape:void 0})}},(0,e.createElement)(d.ToggleControl,{label:(0,u.__)("Enable invert","plover"),checked:!!s,onChange:e=>{o({invertShape:e})}})),(0,e.createElement)(d.__experimentalToolsPanelItem,{label:(0,u.__)("Shape color","plover"),hasValue:()=>void 0!==n,onDeselect:()=>{o({shapeColor:void 0})},isShownByDefault:!0},(0,e.createElement)(m.ColorPopover,{label:(0,u.__)("Shape color","plover"),hasBorder:!0,excludePresets:["transparent"],value:n,enableAlpha:!0,onChange:e=>{o({shapeColor:e})}})),(0,e.createElement)(d.__experimentalToolsPanelItem,{label:(0,u.__)("Shape position","plover"),hasValue:()=>"bottom"!==l,onDeselect:()=>{o({shapePosition:"bottom"})},isShownByDefault:!0},(0,e.createElement)(m.ToggleGroup,{label:(0,u.__)("Position","plover"),value:l,onChange:e=>{o({shapePosition:e})},options:[{label:(0,u.__)("Top","plover"),value:"top"},{label:(0,u.__)("Bottom","plover"),value:"bottom"}]})),(0,e.createElement)(d.__experimentalToolsPanelItem,{label:(0,u.__)("Shape width","plover"),hasValue:()=>void 0!==p,onDeselect:()=>{o({shapeWidth:void 0})}},(0,e.createElement)(m.ResponsiveControl,{title:(0,u.__)("Shape width","plover"),Component:m.UnitSlider,value:p,onChange:e=>{o({shapeWidth:e})},controlProps:{defaultUnit:"%",min:0}})),(0,e.createElement)(d.__experimentalToolsPanelItem,{label:(0,u.__)("Shape height","plover"),hasValue:()=>void 0!==c,onDeselect:()=>{o({shapeHeight:void 0})}},(0,e.createElement)(m.ResponsiveControl,{title:(0,u.__)("Shape height","plover"),Component:m.UnitSlider,value:c,onChange:e=>{o({shapeHeight:e})},controlProps:{min:0}})),(0,e.createElement)(d.__experimentalToolsPanelItem,{label:(0,u.__)("Shape Z-Index","plover"),hasValue:()=>void 0!==h,onDeselect:()=>{o({shapeZIndex:void 0})}},(0,e.createElement)(d.__experimentalNumberControl,{label:(0,u.__)("Shape Z-Index","plover"),value:h,step:1,onChange:e=>{o({shapeZIndex:Number(e)})}}))):null}function b({attributes:t,setAttributes:o}){const{shapeDivider:r}=t;return(0,e.createElement)(v.InspectorControls,null,(0,e.createElement)(d.PanelBody,{title:(0,u.__)("Plover: Shape Divider","plover")},(0,e.createElement)(_,{value:r,onChange:e=>{o({shapeDivider:e})}}),!(0,n.is_premium)()&&(0,e.createElement)(m.Tips,null,(0,e.createElement)("p",{dangerouslySetInnerHTML:{__html:(0,u.sprintf)(/* translators: %s is the premium text and link. */ /* translators: %s is the premium text and link. */
(0,u.__)("Upgrade to %s to unlock 25+ premium shapes.","plover"),'<a href="'+(0,n.upsell_url)()+'" target="_blank">'+(0,u.__)("Premium","plover")+"</a>")}}),(0,e.createElement)("a",{href:(0,n.upsell_url)(),target:"_blank"},(0,u.__)("Upgrade Now â†—","plover"))),(0,e.createElement)(f,{attributes:t,setAttributes:o})))}(0,t.addFilter)("blocks.registerBlockType","plover/shape-divider-attributes",((e,t)=>["core/cover"].includes(t)?(e.attributes={...e.attributes,shapeDivider:{type:"string",default:"none"},shapePosition:{type:"string",default:"bottom"},shapeColor:{type:"string"},flipShape:{type:"boolean"},invertShape:{type:"boolean"},shapeWidth:{type:"object"},shapeHeight:{type:"object"},shapeZIndex:{type:"number"}},e):e)),(0,t.addFilter)("editor.BlockListBlock","plover/with-shape-divider-classname",(0,o.createHigherOrderComponent)((t=>o=>{const{name:r}=o;if(!["core/cover"].includes(r))return(0,e.createElement)(t,{...o});const n={...o?.wrapperProps,className:l(o?.wrapperProps?.className,"plover-shape-divider__block")};return(0,e.createElement)(t,{...o,wrapperProps:n})}),"withParticlesClassName")),(0,t.addFilter)("editor.BlockEdit","plover/shape-divider-preview-and-controls",(t=>o=>{const{name:r,isSelected:l,attributes:n,setAttributes:i}=o;if(["core/cover"].includes(r)){const r=a(n?.shapeDivider);return(0,e.createElement)(e.Fragment,null,r?(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t,{...o}),(0,e.createElement)(h,{...o})):(0,e.createElement)(t,{...o}),l&&(0,e.createElement)(b,{attributes:n,setAttributes:i}))}return(0,e.createElement)(t,{...o})}))}},o={};function r(e){var l=o[e];if(void 0!==l)return l.exports;var n=o[e]={exports:{}};return t[e](n,n.exports,r),n.exports}r.m=t,e=[],r.O=(t,o,l,n)=>{if(!o){var a=1/0;for(c=0;c<e.length;c++){o=e[c][0],l=e[c][1],n=e[c][2];for(var i=!0,s=0;s<o.length;s++)(!1&n||a>=n)&&Object.keys(r.O).every((e=>r.O[e](o[s])))?o.splice(s--,1):(i=!1,n<a&&(a=n));if(i){e.splice(c--,1);var p=l();void 0!==p&&(t=p)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[o,l,n]},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={457:0,332:0};r.O.j=t=>0===e[t];var t=(t,o)=>{var l,n,a=o[0],i=o[1],s=o[2],p=0;if(a.some((t=>0!==e[t]))){for(l in i)r.o(i,l)&&(r.m[l]=i[l]);if(s)var c=s(r)}for(t&&t(o);p<a.length;p++)n=a[p],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(c)},o=self.webpackChunkplover_core=self.webpackChunkplover_core||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var l=r.O(void 0,[332],(()=>r(737)));l=r.O(l)})();